import{r as t,u as We,j as c,L as Vt,l as j,_ as y,m as qe,n as Ge,o as _e,p as Lt,q as je,s as k,v as Bt,w as N,x as oe,y as Ht,z as Ye,A as Kt,B as Ft,C as zt,D as Ut,E as Wt,F as qt,G as Oe,H as Gt,O as Yt}from"./vendor-BGjp6CLF.js";import{c as Xe,u as Ze,h as ve,a as Xt,D as Zt,b as Qt,B as J,d as Jt,e as eo,f as Ve,g as Qe,i as Je,j as et,k as tt,l as ot,m as Re,G as nt,n as to,o as oo,$ as rt,p as at,q as no,r as ro,s as ao,t as so,C as co,v as me,w as lo,T as io,x as uo,y as fo,z as po,A as mo,E as ho,F as go,P as vo,H as xo,I as $o}from"./textarea-DB8XcWGp.js";import{c as A,u as bo,E as wo,L as So,M as yo}from"./index-Dl-iYEh_.js";function Co({title:e}){return t.useEffect(()=>{document.title=e},[e]),null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function ct({id:e,label:n,active:o=!1,collapsed:r=!1}){const a=Ze(ve({id:e})),l=We(),i=Xt(Qe);return c.jsxs(c.Fragment,{children:[!!n&&c.jsx("div",{className:"mb-2 w-full text-xs",children:c.jsx("h3",{children:n})}),c.jsxs("div",{className:`${o&&"bg-secondary"} group relative mb-2 w-full rounded-md p-2 text-sm hover:bg-secondary`,children:[c.jsx(Vt,{to:`/ai/${e}`,className:"flex items-center active:text-black",children:c.jsxs("div",{className:"relative grow overflow-hidden whitespace-nowrap",children:[`${a.emoji??"ðŸ¤”"} `,a.name??a.prompt,c.jsx("div",{className:A("absolute bottom-0 right-0 top-0 w-8 bg-gradient-to-l from-zinc-300 from-0% to-transparent group-hover:right-5 group-hover:from-secondary dark:from-zinc-900",{"from-secondary":o,"dark:from-secondary":o})})]})}),c.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center bg-secondary pr-2 opacity-0 group-hover:opacity-100",children:c.jsxs(Zt,{modal:!1,children:[c.jsx(Qt,{asChild:!0,children:c.jsx(J,{className:"h-5 w-5 text-sm hover:ring-transparent focus-visible:ring-0",variant:"ghost",size:"icon",children:c.jsx(Jt,{className:"inline-block h-4 w-4"})})}),c.jsxs(eo,{children:[c.jsx(Ve,{children:"Copy"}),c.jsx(Ve,{onClick:()=>{i(s=>s.filter(d=>d!==e)),ve.remove({id:e}),localStorage.removeItem(`${e}.html`),localStorage.removeItem(`${e}.md`),l("/ai/new")},children:"Delete"})]})]})}),c.jsx(J,{onClick:()=>l(`/ai/${e}`),className:A("absolute -right-[58px] top-0 z-50 ml-auto inline-flex h-8 w-8 p-2 hover:scale-110 hover:bg-inherit",r&&"ml-10",o&&"bg-zinc-900"),variant:"ghost",size:"icon",children:a.emoji??"ðŸ¤”"})]})]})}ct.defaultProps={label:void 0};/*! js-cookie v3.0.5 | MIT */function fe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)e[r]=o[r]}return e}var Po={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Te(e,n){function o(a,l,i){if(!(typeof document>"u")){i=fe({},n,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var d in i)i[d]&&(s+="; "+d,i[d]!==!0&&(s+="="+i[d].split(";")[0]));return document.cookie=a+"="+e.write(l,a)+s}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var l=document.cookie?document.cookie.split("; "):[],i={},s=0;s<l.length;s++){var d=l[s].split("="),u=d.slice(1).join("=");try{var h=decodeURIComponent(d[0]);if(i[h]=e.read(u,h),a===h)break}catch{}}return a?i[a]:i}}return Object.create({set:o,get:r,remove:function(a,l){o(a,"",fe({},l,{expires:-1}))},withAttributes:function(a){return Te(this.converter,fe({},this.attributes,a))},withConverter:function(a){return Te(fe({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var Le=Te(Po,{path:"/"});function Io(){const[e,n]=t.useState(),[o,r]=t.useState(!1);return t.useEffect(()=>{const l=async()=>{const s=await to();r(s===void 0)},i=Le.get("error");i&&(n(i),Le.remove("error")),l().catch(s=>console.error(s))},[]),c.jsx(Je,{open:o,onOpenChange:l=>{console.log(l)},children:c.jsxs(et,{noClose:!0,className:"sm:max-w-[425px]",children:[c.jsxs(tt,{children:[c.jsx(ot,{children:"Login"}),e?c.jsx(Re,{className:"mb-2 text-red-500 dark:text-red-400",children:e}):c.jsx(Re,{children:"To enforce usage quotas an account is required."})]}),c.jsx("div",{className:"items-center",children:c.jsx(J,{asChild:!0,children:c.jsxs("a",{href:"/v1/login",children:[c.jsx(nt,{className:"mr-2"})," Login with GitHub"]})})})]})})}async function _o(){try{return(await(await fetch("/v1/ollama/tags")).json()).models}catch(e){return console.error(e),[]}}async function Ro(){try{return await(await fetch("/v1/models?api=groq")).json()}catch(e){return console.error(e),[]}}const To=t.forwardRef((e,n)=>t.createElement(j.label,y({},e,{ref:n,onMouseDown:o=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault()}}))),lt=To,No=oo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=t.forwardRef(({className:e,...n},o)=>c.jsx(lt,{ref:o,className:A(No(),e),...n}));he.displayName=lt.displayName;function xe(e,[n,o]){return Math.min(o,Math.max(n,e))}function it(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const Do=[" ","Enter","ArrowUp","ArrowDown"],jo=[" ","Enter"],$e="Select",[be,we,Mo]=rt($e),[le,Xn]=qe($e,[Mo,Ge]),Me=Ge(),[Ao,ne]=le($e),[ko,Oo]=le($e),Vo=e=>{const{__scopeSelect:n,children:o,open:r,defaultOpen:a,onOpenChange:l,value:i,defaultValue:s,onValueChange:d,dir:u,name:h,autoComplete:f,disabled:x,required:b}=e,m=Me(n),[p,S]=t.useState(null),[$,g]=t.useState(null),[v,M]=t.useState(!1),D=at(u),[ee=!1,E]=_e({prop:r,defaultProp:a,onChange:l}),[V,q]=_e({prop:i,defaultProp:s,onChange:d}),te=t.useRef(null),X=p?!!p.closest("form"):!0,[K,L]=t.useState(new Set),P=Array.from(K).map(C=>C.props.value).join(";");return t.createElement(Lt,m,t.createElement(Ao,{required:b,scope:n,trigger:p,onTriggerChange:S,valueNode:$,onValueNodeChange:g,valueNodeHasChildren:v,onValueNodeHasChildrenChange:M,contentId:je(),value:V,onValueChange:q,open:ee,onOpenChange:E,dir:D,triggerPointerDownPosRef:te,disabled:x},t.createElement(be.Provider,{scope:n},t.createElement(ko,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(C=>{L(O=>new Set(O).add(C))},[]),onNativeOptionRemove:t.useCallback(C=>{L(O=>{const F=new Set(O);return F.delete(C),F})},[])},o)),X?t.createElement(mt,{key:P,"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:f,value:V,onChange:C=>q(C.target.value),disabled:x},V===void 0?t.createElement("option",{value:""}):null,Array.from(K)):null))},Lo="SelectTrigger",Bo=t.forwardRef((e,n)=>{const{__scopeSelect:o,disabled:r=!1,...a}=e,l=Me(o),i=ne(Lo,o),s=i.disabled||r,d=k(n,i.onTriggerChange),u=we(o),[h,f,x]=ht(m=>{const p=u().filter(g=>!g.disabled),S=p.find(g=>g.value===i.value),$=gt(p,m,S);$!==void 0&&i.onValueChange($.value)}),b=()=>{s||(i.onOpenChange(!0),x())};return t.createElement(Bt,y({asChild:!0},l),t.createElement(j.button,y({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":pt(i.value)?"":void 0},a,{ref:d,onClick:N(a.onClick,m=>{m.currentTarget.focus()}),onPointerDown:N(a.onPointerDown,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&p.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(b(),i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:N(a.onKeyDown,m=>{const p=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(p&&m.key===" ")&&Do.includes(m.key)&&(b(),m.preventDefault())})})))}),Ho="SelectValue",Ko=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,children:l,placeholder:i="",...s}=e,d=ne(Ho,o),{onValueNodeHasChildrenChange:u}=d,h=l!==void 0,f=k(n,d.onValueNodeChange);return oe(()=>{u(h)},[u,h]),t.createElement(j.span,y({},s,{ref:f,style:{pointerEvents:"none"}}),pt(d.value)?t.createElement(t.Fragment,null,i):l)}),Fo=t.forwardRef((e,n)=>{const{__scopeSelect:o,children:r,...a}=e;return t.createElement(j.span,y({"aria-hidden":!0},a,{ref:n}),r||"â–¼")}),zo=e=>t.createElement(Ht,y({asChild:!0},e)),ce="SelectContent",Uo=t.forwardRef((e,n)=>{const o=ne(ce,e.__scopeSelect),[r,a]=t.useState();if(oe(()=>{a(new DocumentFragment)},[]),!o.open){const l=r;return l?Ye.createPortal(t.createElement(dt,{scope:e.__scopeSelect},t.createElement(be.Slot,{scope:e.__scopeSelect},t.createElement("div",null,e.children))),l):null}return t.createElement(Wo,y({},e,{ref:n}))}),Q=10,[dt,re]=le(ce),Wo=t.forwardRef((e,n)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:s,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:p,avoidCollisions:S,...$}=e,g=ne(ce,o),[v,M]=t.useState(null),[D,ee]=t.useState(null),E=k(n,w=>M(w)),[V,q]=t.useState(null),[te,X]=t.useState(null),K=we(o),[L,P]=t.useState(!1),C=t.useRef(!1);t.useEffect(()=>{if(v)return no(v)},[v]),ro();const O=t.useCallback(w=>{const[R,...H]=K().map(_=>_.ref.current),[T]=H.slice(-1),I=document.activeElement;for(const _ of w)if(_===I||(_==null||_.scrollIntoView({block:"nearest"}),_===R&&D&&(D.scrollTop=0),_===T&&D&&(D.scrollTop=D.scrollHeight),_==null||_.focus(),document.activeElement!==I))return},[K,D]),F=t.useCallback(()=>O([V,v]),[O,V,v]);t.useEffect(()=>{L&&F()},[L,F]);const{onOpenChange:G,triggerPointerDownPosRef:B}=g;t.useEffect(()=>{if(v){let w={x:0,y:0};const R=T=>{var I,_,U,W;w={x:Math.abs(Math.round(T.pageX)-((I=(_=B.current)===null||_===void 0?void 0:_.x)!==null&&I!==void 0?I:0)),y:Math.abs(Math.round(T.pageY)-((U=(W=B.current)===null||W===void 0?void 0:W.y)!==null&&U!==void 0?U:0))}},H=T=>{w.x<=10&&w.y<=10?T.preventDefault():v.contains(T.target)||G(!1),document.removeEventListener("pointermove",R),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",H,{capture:!0})}}},[v,G,B]),t.useEffect(()=>{const w=()=>G(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[G]);const[Y,z]=ht(w=>{const R=K().filter(I=>!I.disabled),H=R.find(I=>I.ref.current===document.activeElement),T=gt(R,w,H);T&&setTimeout(()=>T.ref.current.focus())}),ae=t.useCallback((w,R,H)=>{const T=!C.current&&!H;(g.value!==void 0&&g.value===R||T)&&(q(w),T&&(C.current=!0))},[g.value]),ye=t.useCallback(()=>v==null?void 0:v.focus(),[v]),se=t.useCallback((w,R,H)=>{const T=!C.current&&!H;(g.value!==void 0&&g.value===R||T)&&X(w)},[g.value]),ue=r==="popper"?Be:qo,ie=ue===Be?{side:s,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:p,avoidCollisions:S}:{};return t.createElement(dt,{scope:o,content:v,viewport:D,onViewportChange:ee,itemRefCallback:ae,selectedItem:V,onItemLeave:ye,itemTextRefCallback:se,focusSelectedItem:F,selectedItemText:te,position:r,isPositioned:L,searchRef:Y},t.createElement(ao,{as:Kt,allowPinchZoom:!0},t.createElement(so,{asChild:!0,trapped:g.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:N(a,w=>{var R;(R=g.trigger)===null||R===void 0||R.focus({preventScroll:!0}),w.preventDefault()})},t.createElement(Ft,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>g.onOpenChange(!1)},t.createElement(ue,y({role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:w=>w.preventDefault()},$,ie,{onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:N($.onKeyDown,w=>{const R=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!R&&w.key.length===1&&z(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let T=K().filter(I=>!I.disabled).map(I=>I.ref.current);if(["ArrowUp","End"].includes(w.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const I=w.target,_=T.indexOf(I);T=T.slice(_+1)}setTimeout(()=>O(T)),w.preventDefault()}})}))))))}),qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,onPlaced:r,...a}=e,l=ne(ce,o),i=re(ce,o),[s,d]=t.useState(null),[u,h]=t.useState(null),f=k(n,E=>h(E)),x=we(o),b=t.useRef(!1),m=t.useRef(!0),{viewport:p,selectedItem:S,selectedItemText:$,focusSelectedItem:g}=i,v=t.useCallback(()=>{if(l.trigger&&l.valueNode&&s&&u&&p&&S&&$){const E=l.trigger.getBoundingClientRect(),V=u.getBoundingClientRect(),q=l.valueNode.getBoundingClientRect(),te=$.getBoundingClientRect();if(l.dir!=="rtl"){const I=te.left-V.left,_=q.left-I,U=E.left-_,W=E.width+U,Ce=Math.max(W,V.width),Ee=window.innerWidth-Q,Pe=xe(_,[Q,Ee-Ce]);s.style.minWidth=W+"px",s.style.left=Pe+"px"}else{const I=V.right-te.right,_=window.innerWidth-q.right-I,U=window.innerWidth-E.right-_,W=E.width+U,Ce=Math.max(W,V.width),Ee=window.innerWidth-Q,Pe=xe(_,[Q,Ee-Ce]);s.style.minWidth=W+"px",s.style.right=Pe+"px"}const X=x(),K=window.innerHeight-Q*2,L=p.scrollHeight,P=window.getComputedStyle(u),C=parseInt(P.borderTopWidth,10),O=parseInt(P.paddingTop,10),F=parseInt(P.borderBottomWidth,10),G=parseInt(P.paddingBottom,10),B=C+O+L+G+F,Y=Math.min(S.offsetHeight*5,B),z=window.getComputedStyle(p),ae=parseInt(z.paddingTop,10),ye=parseInt(z.paddingBottom,10),se=E.top+E.height/2-Q,ue=K-se,ie=S.offsetHeight/2,w=S.offsetTop+ie,R=C+O+w,H=B-R;if(R<=se){const I=S===X[X.length-1].ref.current;s.style.bottom="0px";const _=u.clientHeight-p.offsetTop-p.offsetHeight,U=Math.max(ue,ie+(I?ye:0)+_+F),W=R+U;s.style.height=W+"px"}else{const I=S===X[0].ref.current;s.style.top="0px";const U=Math.max(se,C+p.offsetTop+(I?ae:0)+ie)+H;s.style.height=U+"px",p.scrollTop=R-se+p.offsetTop}s.style.margin=`${Q}px 0`,s.style.minHeight=Y+"px",s.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,l.trigger,l.valueNode,s,u,p,S,$,l.dir,r]);oe(()=>v(),[v]);const[M,D]=t.useState();oe(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const ee=t.useCallback(E=>{E&&m.current===!0&&(v(),g==null||g(),m.current=!1)},[v,g]);return t.createElement(Go,{scope:o,contentWrapper:s,shouldExpandOnScrollRef:b,onScrollButtonChange:ee},t.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M}},t.createElement(j.div,y({},a,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Be=t.forwardRef((e,n)=>{const{__scopeSelect:o,align:r="start",collisionPadding:a=Q,...l}=e,i=Me(o);return t.createElement(Wt,y({},i,l,{ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Go,Ae]=le(ce,{}),He="SelectViewport",Yo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=re(He,o),l=Ae(He,o),i=k(n,a.onViewportChange),s=t.useRef(0);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(be.Slot,{scope:o},t.createElement(j.div,y({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:N(r.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&h){const x=Math.abs(s.current-u.scrollTop);if(x>0){const b=window.innerHeight-Q*2,m=parseFloat(h.style.minHeight),p=parseFloat(h.style.height),S=Math.max(m,p);if(S<b){const $=S+x,g=Math.min(b,$),v=$-g;h.style.height=g+"px",h.style.bottom==="0px"&&(u.scrollTop=v>0?v:0,h.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),Xo="SelectGroup",[Zo,Qo]=le(Xo),Jo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=je();return t.createElement(Zo,{scope:o,id:a},t.createElement(j.div,y({role:"group","aria-labelledby":a},r,{ref:n})))}),en="SelectLabel",tn=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=Qo(en,o);return t.createElement(j.div,y({id:a.id},r,{ref:n}))}),Ne="SelectItem",[on,ut]=le(Ne),nn=t.forwardRef((e,n)=>{const{__scopeSelect:o,value:r,disabled:a=!1,textValue:l,...i}=e,s=ne(Ne,o),d=re(Ne,o),u=s.value===r,[h,f]=t.useState(l??""),[x,b]=t.useState(!1),m=k(n,$=>{var g;return(g=d.itemRefCallback)===null||g===void 0?void 0:g.call(d,$,r,a)}),p=je(),S=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.createElement(on,{scope:o,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:t.useCallback($=>{f(g=>{var v;return g||((v=$==null?void 0:$.textContent)!==null&&v!==void 0?v:"").trim()})},[])},t.createElement(be.ItemSlot,{scope:o,value:r,disabled:a,textValue:h},t.createElement(j.div,y({role:"option","aria-labelledby":p,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:N(i.onFocus,()=>b(!0)),onBlur:N(i.onBlur,()=>b(!1)),onPointerUp:N(i.onPointerUp,S),onPointerMove:N(i.onPointerMove,$=>{if(a){var g;(g=d.onItemLeave)===null||g===void 0||g.call(d)}else $.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(i.onPointerLeave,$=>{if($.currentTarget===document.activeElement){var g;(g=d.onItemLeave)===null||g===void 0||g.call(d)}}),onKeyDown:N(i.onKeyDown,$=>{var g;((g=d.searchRef)===null||g===void 0?void 0:g.current)!==""&&$.key===" "||(jo.includes($.key)&&S(),$.key===" "&&$.preventDefault())})}))))}),pe="SelectItemText",rn=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,...l}=e,i=ne(pe,o),s=re(pe,o),d=ut(pe,o),u=Oo(pe,o),[h,f]=t.useState(null),x=k(n,$=>f($),d.onItemTextChange,$=>{var g;return(g=s.itemTextRefCallback)===null||g===void 0?void 0:g.call(s,$,d.value,d.disabled)}),b=h==null?void 0:h.textContent,m=t.useMemo(()=>t.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},b),[d.disabled,d.value,b]),{onNativeOptionAdd:p,onNativeOptionRemove:S}=u;return oe(()=>(p(m),()=>S(m)),[p,S,m]),t.createElement(t.Fragment,null,t.createElement(j.span,y({id:d.textId},l,{ref:x})),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ye.createPortal(l.children,i.valueNode):null)}),an="SelectItemIndicator",sn=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return ut(an,o).isSelected?t.createElement(j.span,y({"aria-hidden":!0},r,{ref:n})):null}),Ke="SelectScrollUpButton",cn=t.forwardRef((e,n)=>{const o=re(Ke,e.__scopeSelect),r=Ae(Ke,e.__scopeSelect),[a,l]=t.useState(!1),i=k(n,r.onScrollButtonChange);return oe(()=>{if(o.viewport&&o.isPositioned){let d=function(){const u=s.scrollTop>0;l(u)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ft,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop-d.offsetHeight)}})):null}),Fe="SelectScrollDownButton",ln=t.forwardRef((e,n)=>{const o=re(Fe,e.__scopeSelect),r=Ae(Fe,e.__scopeSelect),[a,l]=t.useState(!1),i=k(n,r.onScrollButtonChange);return oe(()=>{if(o.viewport&&o.isPositioned){let d=function(){const u=s.scrollHeight-s.clientHeight,h=Math.ceil(s.scrollTop)<u;l(h)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ft,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop+d.offsetHeight)}})):null}),ft=t.forwardRef((e,n)=>{const{__scopeSelect:o,onAutoScroll:r,...a}=e,l=re("SelectScrollButton",o),i=t.useRef(null),s=we(o),d=t.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),oe(()=>{var u;const h=s().find(f=>f.ref.current===document.activeElement);h==null||(u=h.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[s]),t.createElement(j.div,y({"aria-hidden":!0},a,{ref:n,style:{flexShrink:0,...a.style},onPointerDown:N(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:N(a.onPointerMove,()=>{var u;(u=l.onItemLeave)===null||u===void 0||u.call(l),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:N(a.onPointerLeave,()=>{d()})}))}),dn=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return t.createElement(j.div,y({"aria-hidden":!0},r,{ref:n}))});function pt(e){return e===""||e===void 0}const mt=t.forwardRef((e,n)=>{const{value:o,...r}=e,a=t.useRef(null),l=k(n,a),i=it(o);return t.useEffect(()=>{const s=a.current,d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&h){const f=new Event("change",{bubbles:!0});h.call(s,o),s.dispatchEvent(f)}},[i,o]),t.createElement(zt,{asChild:!0},t.createElement("select",y({},r,{ref:l,defaultValue:o})))});mt.displayName="BubbleSelect";function ht(e){const n=Ut(e),o=t.useRef(""),r=t.useRef(0),a=t.useCallback(i=>{const s=o.current+i;n(s),function d(u){o.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(s)},[n]),l=t.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,a,l]}function gt(e,n,o){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,l=o?e.indexOf(o):-1;let i=un(e,Math.max(l,0));a.length===1&&(i=i.filter(u=>u!==o));const d=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==o?d:void 0}function un(e,n){return e.map((o,r)=>e[(n+r)%e.length])}const fn=Vo,vt=Bo,pn=Ko,mn=Fo,hn=zo,xt=Uo,gn=Yo,vn=Jo,$t=tn,bt=nn,xn=rn,$n=sn,wt=cn,St=ln,yt=dn,bn=fn,Ie=vn,wn=pn,Ct=t.forwardRef(({className:e,children:n,...o},r)=>c.jsxs(vt,{ref:r,className:A("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...o,children:[n,c.jsx(mn,{asChild:!0,children:c.jsx(st,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=vt.displayName;const Et=t.forwardRef(({className:e,...n},o)=>c.jsx(wt,{ref:o,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(Eo,{className:"h-4 w-4"})}));Et.displayName=wt.displayName;const Pt=t.forwardRef(({className:e,...n},o)=>c.jsx(St,{ref:o,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(st,{className:"h-4 w-4"})}));Pt.displayName=St.displayName;const It=t.forwardRef(({className:e,children:n,position:o="popper",...r},a)=>c.jsx(hn,{children:c.jsxs(xt,{ref:a,className:A("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...r,children:[c.jsx(Et,{}),c.jsx(gn,{className:A("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),c.jsx(Pt,{})]})}));It.displayName=xt.displayName;const ge=t.forwardRef(({className:e,...n},o)=>c.jsx($t,{ref:o,className:A("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));ge.displayName=$t.displayName;const Z=t.forwardRef(({className:e,children:n,...o},r)=>c.jsxs(bt,{ref:r,className:A("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx($n,{children:c.jsx(co,{className:"h-4 w-4"})})}),c.jsx(xn,{children:n})]}));Z.displayName=bt.displayName;const Sn=t.forwardRef(({className:e,...n},o)=>c.jsx(yt,{ref:o,className:A("-mx-1 my-1 h-px bg-muted",e),...n}));Sn.displayName=yt.displayName;const _t=["PageUp","PageDown"],Rt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},de="Slider",[De,yn,Cn]=rt(de),[Nt,Zn]=qe(de,[Cn]),[En,Se]=Nt(de),Pn=t.forwardRef((e,n)=>{const{name:o,min:r=0,max:a=100,step:l=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[r],value:h,onValueChange:f=()=>{},onValueCommit:x=()=>{},inverted:b=!1,...m}=e,[p,S]=t.useState(null),$=k(n,P=>S(P)),g=t.useRef(new Set),v=t.useRef(0),M=i==="horizontal",D=p?!!p.closest("form"):!0,ee=M?In:_n,[E=[],V]=_e({prop:h,defaultProp:u,onChange:P=>{var C;(C=[...g.current][v.current])===null||C===void 0||C.focus(),f(P)}}),q=t.useRef(E);function te(P){const C=On(E,P);L(P,C)}function X(P){L(P,v.current)}function K(){const P=q.current[v.current];E[v.current]!==P&&x(E)}function L(P,C,{commit:O}={commit:!1}){const F=Hn(l),G=Kn(Math.round((P-r)/l)*l+r,F),B=xe(G,[r,a]);V((Y=[])=>{const z=An(Y,B,C);if(Bn(z,d*l)){v.current=z.indexOf(B);const ae=String(z)!==String(Y);return ae&&O&&x(z),ae?z:Y}else return Y})}return t.createElement(En,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:v,thumbs:g.current,values:E,orientation:i},t.createElement(De.Provider,{scope:e.__scopeSlider},t.createElement(De.Slot,{scope:e.__scopeSlider},t.createElement(ee,y({"aria-disabled":s,"data-disabled":s?"":void 0},m,{ref:$,onPointerDown:N(m.onPointerDown,()=>{s||(q.current=E)}),min:r,max:a,inverted:b,onSlideStart:s?void 0:te,onSlideMove:s?void 0:X,onSlideEnd:s?void 0:K,onHomeKeyDown:()=>!s&&L(r,0,{commit:!0}),onEndKeyDown:()=>!s&&L(a,E.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:C})=>{if(!s){const G=_t.includes(P.key)||P.shiftKey&&Rt.includes(P.key)?10:1,B=v.current,Y=E[B],z=l*G*C;L(Y+z,B,{commit:!0})}}})))),D&&E.map((P,C)=>t.createElement(Mn,{key:C,name:o?o+(E.length>1?"[]":""):void 0,value:P})))}),[Dt,jt]=Nt(de,{startEdge:"left",endEdge:"right",size:"width",direction:1}),In=t.forwardRef((e,n)=>{const{min:o,max:r,dir:a,inverted:l,onSlideStart:i,onSlideMove:s,onSlideEnd:d,onStepKeyDown:u,...h}=e,[f,x]=t.useState(null),b=k(n,v=>x(v)),m=t.useRef(),p=at(a),S=p==="ltr",$=S&&!l||!S&&l;function g(v){const M=m.current||f.getBoundingClientRect(),D=[0,M.width],E=ke(D,$?[o,r]:[r,o]);return m.current=M,E(v-M.left)}return t.createElement(Dt,{scope:e.__scopeSlider,startEdge:$?"left":"right",endEdge:$?"right":"left",direction:$?1:-1,size:"width"},t.createElement(Mt,y({dir:p,"data-orientation":"horizontal"},h,{ref:b,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const M=g(v.clientX);i==null||i(M)},onSlideMove:v=>{const M=g(v.clientX);s==null||s(M)},onSlideEnd:()=>{m.current=void 0,d==null||d()},onStepKeyDown:v=>{const D=Tt[$?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:D?-1:1})}})))}),_n=t.forwardRef((e,n)=>{const{min:o,max:r,inverted:a,onSlideStart:l,onSlideMove:i,onSlideEnd:s,onStepKeyDown:d,...u}=e,h=t.useRef(null),f=k(n,h),x=t.useRef(),b=!a;function m(p){const S=x.current||h.current.getBoundingClientRect(),$=[0,S.height],v=ke($,b?[r,o]:[o,r]);return x.current=S,v(p-S.top)}return t.createElement(Dt,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1},t.createElement(Mt,y({"data-orientation":"vertical"},u,{ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const S=m(p.clientY);l==null||l(S)},onSlideMove:p=>{const S=m(p.clientY);i==null||i(S)},onSlideEnd:()=>{x.current=void 0,s==null||s()},onStepKeyDown:p=>{const $=Tt[b?"from-bottom":"from-top"].includes(p.key);d==null||d({event:p,direction:$?-1:1})}})))}),Mt=t.forwardRef((e,n)=>{const{__scopeSlider:o,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:d,...u}=e,h=Se(de,o);return t.createElement(j.span,y({},u,{ref:n,onKeyDown:N(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):_t.concat(Rt).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:N(e.onPointerDown,f=>{const x=f.target;x.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(x)?x.focus():r(f)}),onPointerMove:N(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:N(e.onPointerUp,f=>{const x=f.target;x.hasPointerCapture(f.pointerId)&&(x.releasePointerCapture(f.pointerId),l(f))})}))}),Rn="SliderTrack",Tn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=Se(Rn,o);return t.createElement(j.span,y({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:n}))}),ze="SliderRange",Nn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=Se(ze,o),l=jt(ze,o),i=t.useRef(null),s=k(n,i),d=a.values.length,u=a.values.map(x=>At(x,a.min,a.max)),h=d>1?Math.min(...u):0,f=100-Math.max(...u);return t.createElement(j.span,y({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:f+"%"}}))}),Ue="SliderThumb",Dn=t.forwardRef((e,n)=>{const o=yn(e.__scopeSlider),[r,a]=t.useState(null),l=k(n,s=>a(s)),i=t.useMemo(()=>r?o().findIndex(s=>s.ref.current===r):-1,[o,r]);return t.createElement(jn,y({},e,{ref:l,index:i}))}),jn=t.forwardRef((e,n)=>{const{__scopeSlider:o,index:r,...a}=e,l=Se(Ue,o),i=jt(Ue,o),[s,d]=t.useState(null),u=k(n,S=>d(S)),h=qt(s),f=l.values[r],x=f===void 0?0:At(f,l.min,l.max),b=kn(r,l.values.length),m=h==null?void 0:h[i.size],p=m?Vn(m,x,i.direction):0;return t.useEffect(()=>{if(s)return l.thumbs.add(s),()=>{l.thumbs.delete(s)}},[s,l.thumbs]),t.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${p}px)`}},t.createElement(De.ItemSlot,{scope:e.__scopeSlider},t.createElement(j.span,y({role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":f,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0},a,{ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:N(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})}))))}),Mn=e=>{const{value:n,...o}=e,r=t.useRef(null),a=it(n);return t.useEffect(()=>{const l=r.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==n&&d){const u=new Event("input",{bubbles:!0});d.call(l,n),l.dispatchEvent(u)}},[a,n]),t.createElement("input",y({style:{display:"none"}},o,{ref:r,defaultValue:n}))};function An(e=[],n,o){const r=[...e];return r[o]=n,r.sort((a,l)=>a-l)}function At(e,n,o){const l=100/(o-n)*(e-n);return xe(l,[0,100])}function kn(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function On(e,n){if(e.length===1)return 0;const o=e.map(a=>Math.abs(a-n)),r=Math.min(...o);return o.indexOf(r)}function Vn(e,n,o){const r=e/2,l=ke([0,50],[0,r]);return(r-l(n)*o)*o}function Ln(e){return e.slice(0,-1).map((n,o)=>e[o+1]-n)}function Bn(e,n){if(n>0){const o=Ln(e);return Math.min(...o)>=n}return!0}function ke(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(o-e[0])}}function Hn(e){return(String(e).split(".")[1]||"").length}function Kn(e,n){const o=Math.pow(10,n);return Math.round(e*o)/o}const kt=Pn,Fn=Tn,zn=Nn,Un=Dn,Ot=t.forwardRef(({className:e,...n},o)=>c.jsxs(kt,{ref:o,className:A("relative flex w-full touch-none select-none items-center",e),...n,children:[c.jsx(Fn,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(zn,{className:"absolute h-full bg-primary"})}),c.jsx(Un,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ot.displayName=kt.displayName;function Wn({trigger:e}){const{isPending:n,isError:o,error:r,data:a}=Oe({queryKey:["ollama-models"],queryFn:_o}),{isPending:l,isError:i,error:s,data:d}=Oe({queryKey:["groq-models"],queryFn:Ro}),[u,h]=me(fo),[f,x]=me(po),[b,m]=me(mo);return t.useEffect(()=>{r&&console.error("Error fetching ollama models",r)},[r]),t.useEffect(()=>{s&&console.error("Error fetching Groq models",s)},[s]),c.jsxs(Je,{children:[c.jsx(lo,{asChild:!0,children:e}),c.jsxs(et,{className:"max-w-xl",children:[c.jsxs(tt,{children:[c.jsx(ot,{children:"Settings"}),c.jsx(Re,{children:"Make changes to your settings or logout"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"model",children:"Model"}),c.jsxs(bn,{value:u,onValueChange:p=>{h(p)},children:[c.jsx(Ct,{className:"min-w-[200px]",children:c.jsx(wn,{placeholder:"Switch models"})}),c.jsxs(It,{children:[c.jsxs(Ie,{children:[c.jsx(ge,{children:"OpenAI"}),c.jsx(Z,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),c.jsx(Z,{value:"gpt-4-turbo-2024-04-09",children:"GPT-4 Turbo"})]}),c.jsxs(Ie,{children:[n||a&&a.length>0?c.jsx(ge,{children:"Ollama"}):void 0,!!n&&c.jsx(Z,{disabled:!0,value:"loading",children:"Loading..."}),!!o&&c.jsx(Z,{disabled:!0,value:"error",children:"Unable to load Ollama models, see console"}),!!a&&a.map(p=>c.jsx(Z,{value:`ollama/${p.name}`,children:p.name},p.digest))]}),c.jsxs(Ie,{children:[!!l||((d==null?void 0:d.data)??[]).length>0&&c.jsx(ge,{children:"Groq"}),!!l&&c.jsx(Z,{disabled:!0,value:"loading",children:"Loading..."}),!!i&&c.jsx(Z,{disabled:!0,value:"error",children:"Unable to load Groq models, see console"}),((d==null?void 0:d.data)??[]).filter(p=>!!p.active).map(p=>c.jsx(Z,{value:`groq/${p.id}`,children:p.id},p.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"prompt",children:"System Prompt"}),c.jsx(io,{className:"col-span-3",id:"prompt",onChange:p=>x(p.target.value),value:f})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"temperature",children:"Temperature"}),c.jsx(Ot,{min:0,max:1,step:.05,onValueChange:p=>m(p[0]),value:[b],className:"col-span-3",id:"temperature"})]}),c.jsx("div",{className:"mt-3 grid grid-cols-4 items-center gap-4",children:c.jsxs("div",{className:"col-start-4 flex justify-end",children:[c.jsx(J,{variant:"secondary",onClick:()=>{fetch("/v1/session",{method:"DELETE"}).then(()=>document.location.reload()).catch(p=>console.error(p))},children:"Logout"}),c.jsx(uo,{asChild:!0,children:c.jsx(J,{type:"button",className:"ml-2",children:"Update"})})]})})]})]})]})}function Qn(){const e=bo(`(min-width: ${yo}px)`),[n,o]=t.useState(!e),r=We(),[a]=me(Qe),l=Gt(),i=Ze(ve({id:l.id??"new"})),s=ho();t.useEffect(()=>{l.id===void 0&&(console.log("redirecting"),r("/ai/new"))},[l.id,r]),t.useEffect(()=>{o(!e)},[e,o]);const d=new Date,u=new Date(d.getTime()-24*60*60*1e3),h=new Date(d.getTime()-7*24*60*60*1e3);let f="";return c.jsxs("div",{className:"mobile-safe-container flex overflow-hidden bg-secondary",children:[c.jsx(Co,{title:i.name??"Create a new Elemint"}),c.jsx(Io,{}),c.jsxs("div",{className:A(`${n?"w-0":"w-[300px]"} flex h-screen flex-none flex-col border-r border-input bg-zinc-300 transition-all duration-300 ease-in-out dark:bg-zinc-900`,!e&&!n&&"absolute z-50"),children:[c.jsxs("div",{className:"flex items-center pb-2 pl-4",children:[c.jsx("h2",{className:`${n?"opacity-0":"opacity-100"} text-sm text-secondary-foreground transition-all duration-300`,children:"History"}),c.jsx(J,{asChild:!0,size:"icon",variant:"ghost",className:"ml-auto inline-flex p-2 hover:bg-inherit",children:c.jsx("a",{"aria-label":"GitHub",rel:"noreferrer",target:"_blank",href:"https://github.com/wandb/openui",children:c.jsx(nt,{className:"h-5 w-5"})})}),c.jsx(Wn,{trigger:c.jsx(J,{className:A("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2	"),variant:"ghost",size:"icon",children:c.jsx(go,{className:"h-5 w-5"})})}),c.jsx(J,{onClick:()=>{r("/ai/new"),e||o(!0)},className:A("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2"),variant:"ghost",size:"icon",children:c.jsx(vo,{className:"inline-block h-5 w-5"})})]}),c.jsx("div",{className:"flex h-full max-h-full flex-col items-start justify-start overflow-y-auto overflow-x-hidden p-3",children:a.map(x=>{let b;const m=s.get(ve({id:x}));return m.createdAt&&m.createdAt>=u&&(f===""||f==="Today")?(b=f==="Today"?void 0:"Today",f="Today"):m.createdAt&&m.createdAt>=h&&f==="Today"?(b="Previous 7 days",f=b):f==="Previous 7 days"&&m.createdAt&&m.createdAt<=h?(b="Previous 30 days",f=b):b=void 0,c.jsx(ct,{id:x,label:b,active:l.id===x,collapsed:n},x)})}),c.jsx(J,{onClick:()=>{o(!n)},className:A("ml-auto inline-flex p-2 hover:scale-110 hover:bg-secondary",n&&"absolute -left-2 top-[90px] z-50 bg-secondary",!e&&"mb-20"),variant:"ghost",size:"icon",children:n?c.jsx(xo,{className:"inline-block h-4 w-4"}):c.jsx($o,{className:"inline-block h-4 w-4"})})]}),c.jsx("div",{className:"mobile-safe-container relative flex-1 overflow-hidden",children:c.jsx(wo,{renderError:x=>c.jsx(So,{error:x}),children:c.jsx(Yt,{})})})]})}export{Qn as default};
